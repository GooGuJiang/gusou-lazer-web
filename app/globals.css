@tailwind base;
@tailwind components;
@tailwind utilities;

/* Fuwari-inspired card components */
@layer components {
  /* 基础卡片样式 */
  .card-base {
    @apply rounded-2xl overflow-hidden transition-all duration-300;
    background: var(--card-bg);
  }

  .card-shadow {
    @apply shadow-lg;
  }

  .card-bordered {
    border: 1px solid var(--border-color);
  }

  .card-hover {
    @apply hover:shadow-xl;
  }

  .card-hover:hover {
    background: var(--card-bg-hover);
    border-color: var(--border-hover);
  }

  /* 浮动面板 */
  .float-panel {
    @apply rounded-2xl overflow-hidden transition-shadow shadow-xl;
    background: var(--float-panel-bg);
  }

  /* 常用卡片组合 */
  .card-standard {
    @apply rounded-2xl shadow-lg transition-all duration-300;
    background: var(--card-bg);
    border: 1px solid var(--border-color);
  }

  .card-standard:hover {
    @apply shadow-xl;
    background: var(--card-bg-hover);
    border-color: var(--border-hover);
  }

  /* Modal 样式 */
  .modal-card {
    @apply rounded-2xl shadow-2xl;
    background: var(--card-bg);
    border: 1px solid var(--border-color);
  }

  /* 紧凑卡片 */
  .card-compact {
    @apply rounded-xl shadow transition-all duration-300;
    background: var(--card-bg);
    border: 1px solid var(--border-color);
  }

  /* 背景样式 - 用于替换 bg-white dark:bg-gray-xxx */
  .bg-card {
    background: var(--card-bg);
  }

  .bg-card-hover {
    background: var(--card-bg-hover);
  }

  .bg-panel {
    background: var(--float-panel-bg);
  }

  .bg-page {
    background: var(--page-bg);
  }

  /* 边框样式 */
  .border-card {
    border-color: var(--border-color);
  }

  .border-card-hover {
    border-color: var(--border-hover);
  }
}

/* 导入 Extra 字体 */
@font-face {
  font-family: 'Extra';
  src: url('/fonts/extra.96448ca7.woff2') format('woff2');
  font-weight: normal;
  font-style: normal;
  font-display: swap;
}

/* 游戏模式图标字体样式 */
.fa-extra-mode-osu::before {
  font-family: 'Extra';
  content: "\e800";
}

.fa-extra-mode-fruits::before {
  font-family: 'Extra';
  content: "\e801";
}

.fa-extra-mode-mania::before {
  font-family: 'Extra';
  content: "\e802";
}

.fa-extra-mode-taiko::before {
  font-family: 'Extra';
  content: "\e803";
}

.fa-extra-osu::before {
  font-family: 'Extra';
  content: "\e805";
}

.fa-extra-team-leader::before {
  font-family: 'Extra';
  content: "\e806";
}

/* 通用图标字体基础样式 */
.fa-extra-mode-osu,
.fa-extra-mode-fruits,
.fa-extra-mode-mania,
.fa-extra-mode-taiko,
.fa-extra-osu,
.fa-extra-team-leader {
  display: inline-block;
  font-style: normal;
  font-variant: normal;
  text-rendering: auto;
  line-height: 1;
}

:root {
  --hue: 340; /* 默认色相值，对应 osu-pink */
  --profile-color: #ED8EA6;
  --osu-pink: var(--profile-color, #ED8EA6);

  /* 使用 OKLCH 颜色空间，参考 fuwari 实现 */
  /* 页面背景 */
  --page-bg: oklch(0.97 0.01 var(--hue));
  --bg-primary: var(--page-bg);
  --bg-secondary: oklch(0.95 0.02 var(--hue));

  /* 卡片背景 - 亮色模式用白色 */
  --card-bg: white;
  --card-bg-hover: oklch(0.98 0.005 var(--hue));

  /* 文本颜色 */
  --text-primary: #1a202c;
  --text-secondary: #4a5568;
  --text-muted: #718096;

  /* 边框颜色 */
  --border-color: rgba(0, 0, 0, 0.08);
  --border-hover: rgba(0, 0, 0, 0.12);

  /* 其他组件颜色 */
  --navbar-bg: rgba(255, 255, 255, 0.85);
  --float-panel-bg: rgba(255, 255, 255, 0.9);
}

:root.dark {
  --page-bg: oklch(0.12 0.02 var(--hue));
  --bg-primary: var(--page-bg);
  --bg-secondary: oklch(0.16 0.03 var(--hue));
  --card-bg: oklch(0.18 0.02 var(--hue));
  --card-bg-hover: oklch(0.2 0.03 var(--hue));
  --text-primary: oklch(0.85 0.03 var(--hue));
  --text-secondary: oklch(0.75 0.04 var(--hue));
  --text-muted: oklch(0.65 0.03 var(--hue));
  --border-color: rgba(255, 255, 255, 0.08);
  --border-hover: rgba(255, 255, 255, 0.12);
  --navbar-bg: rgba(20, 20, 20, 0.85);
  --float-panel-bg: rgba(35, 35, 35, 0.9);
}

html,
body {
  max-width: 100vw;
  overflow-x: hidden;
  background: var(--bg-primary);
  color: var(--text-primary);
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
}

body {
  background: linear-gradient(
    180deg,
    var(--bg-primary) 0%,
    var(--bg-secondary) 100%
  );
}

::-webkit-scrollbar {
  width: 10px;
  height: 10px;
}

::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.05);
}

::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 9999px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.3);
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

main {
  min-height: 100vh;
}

button:focus-visible,
a:focus-visible {
  outline: 2px solid var(--osu-pink);
  outline-offset: 2px;
}

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
